% code for bitplane slicing
clear all;
a=imread('cameraman.tif');
[rows,columns]=size(a);
a=double(a);
c1=2;c2=4;c3=8;c4=16;c5=32;c6=64;c7=128;
b1=mod(a,c1);
b2=mod(floor(a/c1),c1);
b3=mod(floor(a/c2),c1);
b4=mod(floor(a/c3),c1);
b5=mod(floor(a/c4),c1);
b6=mod(floor(a/c5),c1);
b7=mod(floor(a/c6),c1);
b8=mod(floor(a/c7),c1);
figure;
subplot(2,4,1);

imshow(uint8(b1*255));
title('1st Bit Slicing');
subplot(2,4,2);
imshow(uint8(b2*255));
title('2nd Bit Slicing');
subplot(2,4,3);
imshow(uint8(b3*255));
title('3rd Bit Slicing');
subplot(2,4,4);
imshow(uint8(b4*255));
title('4th Bit Slicing');
subplot(2,4,5);
imshow(uint8(b5*255));
title('5th Bit Slicing');
subplot(2,4,6);
imshow(uint8(b6*255));
title('6th Bit Slicing');
subplot(2,4,7);
imshow(uint8(b7*255));
title('7th Bit Slicing');
subplot(2,4,8);
imshow(uint8(b8*255));
title('8th Bit Slicing');

% chosing bits
bto7=b8*c7+b7*c6;
bto6=b8*c7+b7*c6+b6*c5;
bto5=b8*c7+b7*c6+b6*c5+b5*c4;
bto4=b8*c7+b7*c6+b6*c5+b5*c4+b4*c3;
bto3=b8*c7+b7*c6+b6*c5+b5*c4+b4*c3+b3*c2;
bto2=b8*c7+b7*c6+b6*c5+b5*c4+b4*c3+b3*c2+b2*c1;
bto1=b8*c7+b7*c6+b6*c5+b5*c4+b4*c3+b3*c2+b2*c1+b1;
figure;
subplot(2,4,1);
imshow(uint8(bto7));
title('Combination of 8-7');
subplot(2,4,2);
imshow(uint8(bto6));
title('Combination of 8-6');
subplot(2,4,3);
imshow(uint8(bto5));
title('Combination of 8-5');
subplot(2,4,4);
imshow(uint8(bto4));
title('Combination of 8-4');
subplot(2,4,5);
imshow(uint8(bto3));
title('Combination of 8-3');
subplot(2,4,6);
imshow(uint8(bto2));
title('Combination of 8-2');
subplot(2,4,7);
imshow(uint8(bto1));
title('Combination of 8-1');
subplot(2,4,8);
imshow(uint8(a));
title('Original Image');